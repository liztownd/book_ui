(this.webpackJsonpmybookshelf=this.webpackJsonpmybookshelf||[]).push([[7],{119:function(e,n,t){"use strict";t(0);var i=t(111),a=t(5);n.a=function(e){var n=e.children,t=l().classes;return Object(a.jsx)("div",{className:t.main,children:n})};var l=Object(i.makeStyles)({name:"PageContainer"})((function(e){return{main:{margin:e.spacing(0,3),padding:e.spacing(1,3)}}}))},120:function(e,n,t){"use strict";t(0);var i=t(322),a=t(111),l=t(134),c=t.n(l),o=t(5);n.a=function(e){var n=e.title,t=e.icon,a=s().classes;return Object(o.jsxs)("div",{className:a.container,children:[Object(o.jsx)("div",{className:a.icon,children:t||Object(o.jsx)(c.a,{fontSize:"large"})}),Object(o.jsx)(i.a,{variant:"h4",children:n})]})};var s=Object(a.makeStyles)({name:"PageTitles"})((function(e){return{container:{width:"100%",display:"flex",alignItems:"center",margin:e.spacing(2,0)},icon:{marginRight:e.spacing(2),color:e.palette.primary.main}}}))},123:function(e,n,t){"use strict";var i=t(8),a=t(0),l=t(318),c=t(65),o=t(5);n.a=function(e){var n=e.id,t=e.status,s=Object(a.useContext)(c.a).updateStatus,r=Object(a.useState)(t),d=Object(i.a)(r,2),u=d[0],j=d[1];return Object(o.jsx)(l.a,{style:{margin:"10px",width:"150px"},label:u?"Read":"Mark as read",variant:u?"filled":"outlined",color:"secondary",onClick:function(){j(!u),s(n,!u)}})}},124:function(e,n,t){"use strict";n.a=t.p+"static/media/genericBook.d3f34275.png"},126:function(e,n,t){"use strict";var i=t(8),a=t(0),l=t(65),c=t(165),o=t.n(c),s=t(166),r=t.n(s),d=t(5),u=function(e){var n=e.starNumber,t=e.originalRating,i=e.rating,a=e.setRating,l=e.saveRating;return Object(d.jsx)(d.Fragment,{children:i>=n?Object(d.jsx)(o.a,{fontSize:"small",color:"primary",onMouseEnter:function(){return a(n)},onMouseLeave:function(){return a(t)},onClick:function(e){e.preventDefault(),l()}}):Object(d.jsx)(r.a,{fontSize:"small",color:"secondary",onMouseEnter:function(){return a(n)},onMouseLeave:function(){return a(t)},onClick:function(e){e.preventDefault(),l()}})})};n.a=function(e){var n=e.rating,t=e.id,c=Object(a.useContext)(l.a).updateRating,o=Object(a.useState)(n),s=Object(i.a)(o,2),r=s[0],j=s[1],b=function(){r&&c(t,r)};return Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center",margin:"10px"},children:[Object(d.jsx)(u,{starNumber:1,originalRating:n,rating:r,setRating:j,saveRating:b}),Object(d.jsx)(u,{starNumber:2,originalRating:n,rating:r,setRating:j,saveRating:b}),Object(d.jsx)(u,{starNumber:3,originalRating:n,rating:r,setRating:j,saveRating:b}),Object(d.jsx)(u,{starNumber:4,originalRating:n,rating:r,setRating:j,saveRating:b}),Object(d.jsx)(u,{starNumber:5,originalRating:n,rating:r,setRating:j,saveRating:b})]})}},142:function(e,n,t){"use strict";var i=t(0),a=t(327),l=t(309),c=t(323),o=t(328),s=t(324),r=t(319),d=t(322),u=t(329),j=t(320),b=t(185),m=t.n(b),x=t(111),v=t(167),h=t.n(v),O=t(65),f=t(123),g=t(141),p=t.n(g),k=t(126),y=t(124),C=t(5);n.a=function(e){var n,t,b,x,v,g,S,N,R,w,D,B,L,T,z,M,E,A,F,G,_,P,U,W,H,J=e.isBookDialogOpen,V=e.setIsBookDialogOpen,Y=I().classes,q=Object(i.useContext)(O.a),K=q.addBook,Q=q.selectedBook,X=q.inUserList,Z=q.deleteBook,$=X((null===Q||void 0===Q?void 0:Q.id)||""),ee={book_id:(null===Q||void 0===Q?void 0:Q.id)||"",title:(null===Q||void 0===Q||null===(n=Q.volumeInfo)||void 0===n?void 0:n.title)||"",subtitle:(null===Q||void 0===Q||null===(t=Q.volumeInfo)||void 0===t?void 0:t.subtitle)||"",authors:(null===Q||void 0===Q||null===(b=Q.volumeInfo)||void 0===b||null===(x=b.authors)||void 0===x?void 0:x.join(","))||"",publishedDate:(null===Q||void 0===Q||null===(v=Q.volumeInfo)||void 0===v?void 0:v.publishedDate)||"",description:(null===Q||void 0===Q||null===(g=Q.volumeInfo)||void 0===g?void 0:g.description)||"",smallThumbnail:(null===Q||void 0===Q||null===(S=Q.volumeInfo)||void 0===S||null===(N=S.imageLinks)||void 0===N?void 0:N.smallThumbnail)||"",thumbnail:(null===Q||void 0===Q||null===(R=Q.volumeInfo)||void 0===R||null===(w=R.imageLinks)||void 0===w?void 0:w.thumbnail)||"",infoLink:(null===Q||void 0===Q||null===(D=Q.volumeInfo)||void 0===D?void 0:D.infoLink)||"",read:!1,rating:0};return Object(C.jsx)(a.a,{open:J,children:Q&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(l.a,{className:Y.title,children:[null===Q||void 0===Q||null===(B=Q.volumeInfo)||void 0===B?void 0:B.title,Object(C.jsx)(c.a,{title:"Close dialog",onClick:function(){return V(!1)},children:Object(C.jsx)(m.a,{})})]}),Object(C.jsx)(o.a,{children:Object(C.jsx)(s.a,{className:Y.container,children:Object(C.jsxs)(r.a,{container:!0,direction:"column",spacing:3,children:[Object(C.jsx)(r.a,{item:!0,children:Object(C.jsx)("img",{src:(null===Q||void 0===Q||null===(L=Q.volumeInfo)||void 0===L||null===(T=L.imageLinks)||void 0===T?void 0:T.thumbnail)||y.a,alt:null===Q||void 0===Q||null===(z=Q.volumeInfo)||void 0===z?void 0:z.title,className:Y.image})}),Object(C.jsxs)(r.a,{item:!0,children:[Object(C.jsx)("a",{href:null===Q||void 0===Q||null===(M=Q.volumeInfo)||void 0===M?void 0:M.infoLink,target:"_blank",rel:"noreferrer",className:Y.link,children:Object(C.jsx)(d.a,{variant:"h6",children:(null===Q||void 0===Q||null===(E=Q.volumeInfo)||void 0===E?void 0:E.title)||""})}),Object(C.jsx)(d.a,{children:null===Q||void 0===Q||null===(A=Q.volumeInfo)||void 0===A||null===(F=A.authors)||void 0===F?void 0:F.join(",")}),(null===Q||void 0===Q||null===(G=Q.volumeInfo)||void 0===G||null===(_=G.description)||void 0===_?void 0:_.startsWith("<"))?Object(C.jsx)("div",{children:h()(null===Q||void 0===Q||null===(P=Q.volumeInfo)||void 0===P?void 0:P.description)}):Object(C.jsx)(d.a,{variant:"body1",children:(null===Q||void 0===Q||null===(U=Q.volumeInfo)||void 0===U?void 0:U.description)||""}),Object(C.jsx)(d.a,{variant:"subtitle2",children:(null===Q||void 0===Q||null===(W=Q.volumeInfo)||void 0===W?void 0:W.publishedDate)||""})]})]})})}),Object(C.jsx)(u.a,{className:Y.actionArea,children:Object(C.jsxs)(r.a,{container:!0,spacing:1,alignItems:"center",children:[Object(C.jsx)(r.a,{item:!0,children:$?Object(C.jsxs)(s.a,{sx:{flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"}},className:Y.userDiv,children:[Object(C.jsx)(f.a,{id:$.id,status:Boolean(null===$||void 0===$?void 0:$.read)}),Object(C.jsx)(k.a,{rating:$.rating||0,id:$.id}),Object(C.jsx)(j.a,{title:"Remove from shelf",color:"secondary",onClick:function(){return Z($.id)},children:"Remove from shelf"})]}):Object(C.jsx)(j.a,{title:"Add to shelf",variant:"contained",color:"primary",onClick:function(){return K(ee)},children:"Add to shelf"})}),Object(C.jsx)(r.a,{item:!0,children:Object(C.jsx)(j.a,{title:"View on web",children:Object(C.jsx)("a",{href:null===Q||void 0===Q||null===(H=Q.volumeInfo)||void 0===H?void 0:H.infoLink,target:"_blank",rel:"noreferrer",children:Object(C.jsx)(p.a,{fontSize:"small",color:"secondary"})})})})]})})]})})};var I=Object(x.makeStyles)({name:"NewBookDialog"})((function(e){return{title:{display:"flex",justifyContent:"space-between",alignItems:"center"},container:{margin:e.spacing(2)},image:{},link:{color:e.palette.primary.main,textDecoration:"none"},actionArea:{padding:e.spacing(3)},userDiv:{display:"flex",alignItems:"center"}}}))},144:function(e,n,t){"use strict";var i=t(8),a=t(0),l=t.n(a),c=t(120),o=t(111),s=t(161),r=t.n(s),d=t(163),u=t.n(d),j=t(43),b=t(42),m=t(138),x=t.n(m),v=t(6),h=t(323),O=t(41),f=t(5),g=function(e){var n=e.linkTo,t=e.icon,i=e.isSelected,a=e.title,l=p(),c=l.classes,o=l.cx;return Object(f.jsx)(h.a,{title:a,className:o(c.link,Object(v.a)({},c.isSelected,i)),children:Object(f.jsx)(O.b,{to:n,children:t})})},p=Object(o.makeStyles)({name:"HeaderLink"})((function(e){return{link:{height:e.spacing(7),width:e.spacing(7),borderRadius:50,display:"flex",justifyContent:"center",alignItems:"center"},isSelected:{border:"1px solid ".concat(e.palette.primary.main)}}})),k=t(2),y=t(324),C=t(317),I=t(315),S=t(307),N=t(308),R=t(162),w=t.n(R),D=t(268),B=(n.a=function(e){var n=e.title,t=e.icon,o=B().classes,s=Object(a.useContext)(j.b),d=s.user,m=s.setUser,v=l.a.useState(null),O=Object(i.a)(v,2),p=O[0],R=O[1],L=Object(k.l)(),T=Object(k.n)(),z=function(){m(void 0),T("/mybookshelf")},M=function(){R(null)};return Object(f.jsxs)("div",{className:o.container,children:[Object(f.jsx)(c.a,{title:n,icon:t||null}),Object(f.jsxs)(y.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},className:o.actionsContainer,children:[Object(f.jsx)(g,{title:b.c.title,linkTo:b.c.path.replace(":userId",(null===d||void 0===d?void 0:d.id.toString())||""),icon:Object(f.jsx)(r.a,{color:L.pathname.includes("manage")?"primary":"secondary",className:o.linkIcon}),isSelected:L.pathname.includes("manage")}),Object(f.jsx)(g,{title:b.b.title,linkTo:b.b.path.replace(":userId",(null===d||void 0===d?void 0:d.id.toString())||""),icon:Object(f.jsx)(x.a,{color:L.pathname.includes("search")?"primary":"secondary",className:o.linkIcon}),isSelected:L.pathname.includes("search")}),Object(f.jsx)(h.a,{onClick:z,title:"Log out",children:Object(f.jsx)(w.a,{color:"secondary"})})]}),Object(f.jsxs)(y.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(f.jsx)(h.a,{size:"large","aria-label":"app-menu","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){R(e.currentTarget)},color:"inherit",children:Object(f.jsx)(u.a,{})}),Object(f.jsxs)(D.a,{id:"menu-appbar",anchorEl:p,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(p),onClose:M,sx:{display:{xs:"block",md:"none"}},children:[Object(f.jsx)(C.a,{onClick:function(){M(),T(b.c.path.replace(":userId",(null===d||void 0===d?void 0:d.id.toString())||""))},children:Object(f.jsxs)(I.a,{children:[Object(f.jsx)(S.a,{children:Object(f.jsx)(r.a,{color:L.pathname.includes("manage")?"primary":"secondary",className:o.linkIcon})}),Object(f.jsx)(N.a,{children:"My books"})]})}),Object(f.jsx)(C.a,{onClick:function(){M(),T(b.b.path.replace(":userId",(null===d||void 0===d?void 0:d.id.toString())||""))},children:Object(f.jsxs)(I.a,{children:[Object(f.jsx)(S.a,{children:Object(f.jsx)(x.a,{color:L.pathname.includes("search")?"primary":"secondary",className:o.linkIcon})}),Object(f.jsx)(N.a,{children:"Search"})]})}),Object(f.jsx)(C.a,{onClick:function(){M(),z()},children:Object(f.jsxs)(I.a,{children:[Object(f.jsx)(S.a,{children:Object(f.jsx)(w.a,{color:"secondary"})}),Object(f.jsx)(N.a,{children:"Logout"})]})})]})]})]})},Object(o.makeStyles)({name:"Header"})((function(e){return{container:{padding:e.spacing(2),width:"100%",display:"flex",justifyContents:"space-evenly",alignItems:"center"},actionsContainer:{marginRight:e.spacing(2),display:"flex",justifyContents:"flex-end",alignItems:"center"},linkIcon:{padding:0,marginTop:-4,marginRight:-3}}})))},179:function(e,n){},316:function(e,n,t){"use strict";t.r(n);var i=t(8),a=t(69),l=t(0),c=t(65),o=t(263),s=t.n(o),r=t(264),d=t.n(r),u=t(265),j=t.n(u),b=t(266),m=t.n(b),x=t(119),v=t(144),h=t(42),O=t(330),f=t(331),g=t(322),p=t(320),k=t(267),y=t(2),C=t(43),I=t(5),S=function(){var e=N().classes,n=Object(l.useContext)(C.b).user,t=Object(y.n)();return Object(I.jsx)(O.a,{className:e.card,children:Object(I.jsxs)(f.a,{className:e.cardContent,children:[Object(I.jsx)(g.a,{variant:"h6",children:"Oh no! You don't have any Books yet! Go add one..."}),Object(I.jsx)(p.a,{title:"Go to search",variant:"contained",className:e.button,onClick:function(){return t(h.b.path.replace("userId",(null===n||void 0===n?void 0:n.id.toString())||""))},children:"Add"})]})})},N=Object(k.a)({name:"BookCard"})((function(e){return{card:{width:"100%",margin:e.spacing(2),maxWidth:"300px"},cardContent:{display:"flex",flexDirection:"column",alignItems:"center"},button:{margin:e.spacing(2),width:"100%"}}})),R=t(332),w=t(324),D=t(319),B=t(111),L=t(123),T=t(126),z=t(124),M=function(e){var n=e.book,t=e.getDetails,i=Object(l.useContext)(c.a).deleteBook,a=E().classes;return Object(I.jsxs)(O.a,{className:a.card,children:[Object(I.jsx)(R.a,{children:n.title||""}),Object(I.jsx)(f.a,{children:Object(I.jsx)(w.a,{className:a.container,children:Object(I.jsxs)(D.a,{container:!0,direction:"row",children:[Object(I.jsx)(D.a,{item:!0,xs:12,md:2,children:Object(I.jsx)("img",{src:n.smallThumbnail||z.a,alt:n.title,className:a.image})}),Object(I.jsxs)(D.a,{item:!0,xs:12,md:10,className:a.detailsContainer,children:[Object(I.jsxs)("div",{children:[Object(I.jsx)(g.a,{variant:"h6",children:n.title||""}),Object(I.jsx)(g.a,{variant:"caption",children:n.authors})]}),Object(I.jsxs)(w.a,{sx:{flexDirection:{xs:"column",md:"row"},alignItems:{xs:"flex-start",md:"center"}},className:a.actionsContainer,children:[Object(I.jsx)(L.a,{id:n.id,status:n.read||!1}),Object(I.jsx)(T.a,{rating:n.rating||0,id:n.id}),Object(I.jsx)(p.a,{title:"View details",onClick:function(e){return t(e,n.book_id)},children:"Details"}),Object(I.jsx)(p.a,{title:"Remove from shelf",onClick:function(){return i(n.id)},children:"Remove"})]})]})]})})})]})},E=Object(B.makeStyles)({name:"BookCard"})((function(e){return{card:{width:"90%",margin:e.spacing(2),overflow:"hidden"},actionsContainer:{display:"flex",marginTop:e.spacing(1),gap:e.spacing(1)},container:{display:"flex",margin:e.spacing(2),overflow:"auto"},image:{maxWidth:"100px",marginRight:e.spacing(3)},link:{color:e.palette.primary.main,textDecoration:"none"},detailsContainer:{display:"flex",flexDirection:"column",justifyContent:"space-between"}}})),A=t(142),F=t(323),G=t(268),_=t(317),P=t(307),U=t(308);n.default=function(){var e=Object(l.useContext)(c.a),n=e.userBooks,t=e.getBook,o=Object(l.useState)(!1),r=Object(i.a)(o,2),u=r[0],b=r[1],O=Object(l.useState)(),f=Object(i.a)(O,2),g=f[0],p=f[1],k=Object(l.useState)(n),y=Object(i.a)(k,2),C=y[0],N=y[1],R=Object(l.useState)(null),w=Object(i.a)(R,2),D=w[0],B=w[1],L=Boolean(D),T=function(){B(null)};Object(l.useEffect)((function(){n&&(g||N(n),N(function(){switch(g){case"read":return n.filter((function(e){return!0===e.read}));case"unread":return n.filter((function(e){return!0!==e.read}));default:return n}}()))}),[g,n]);var z=function(e,n){e.preventDefault(),t(n),b(!0)};return Object(I.jsxs)(x.a,{children:[Object(I.jsx)(v.a,{title:h.c.title}),Object(I.jsxs)(a.ErrorBoundary,{fallback:Object(I.jsx)("div",{children:"Something went wrong"}),children:[n.length?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{children:[Object(I.jsx)(F.a,{id:"filter-button",title:"Filter","aria-controls":L?"filter-menu":void 0,"aria-haspopup":"true","aria-expanded":L?"true":void 0,onClick:function(e){B(e.currentTarget)},children:Object(I.jsx)(s.a,{color:"secondary"})}),Object(I.jsxs)(G.a,{id:"filter-menu",anchorEl:D,open:L,onClose:T,MenuListProps:{"aria-labelledby":"filter-button"},children:[Object(I.jsx)(_.a,{disabled:!0,children:"Filter by:"}),Object(I.jsxs)(_.a,{onClick:function(){p("read"),T()},children:[Object(I.jsx)(P.a,{children:Object(I.jsx)(d.a,{fontSize:"small"})}),Object(I.jsx)(U.a,{children:"Read"})]}),Object(I.jsxs)(_.a,{onClick:function(){p("unread"),T()},children:[Object(I.jsx)(P.a,{children:Object(I.jsx)(j.a,{fontSize:"small"})}),Object(I.jsx)(U.a,{children:"Unread"})]}),Object(I.jsxs)(_.a,{onClick:function(){p(void 0),T()},children:[Object(I.jsx)(P.a,{children:Object(I.jsx)(m.a,{fontSize:"small"})}),Object(I.jsx)(U.a,{children:"Clear filters"})]})]})]}),C.map((function(e){return Object(I.jsx)(M,{book:e,getDetails:z},e.id)}))]}):Object(I.jsx)(S,{}),Object(I.jsx)(A.a,{isBookDialogOpen:u,setIsBookDialogOpen:b})]})]})}}}]);
//# sourceMappingURL=7.44649e6b.chunk.js.map