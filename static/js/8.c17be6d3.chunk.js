(this.webpackJsonpmybookshelf=this.webpackJsonpmybookshelf||[]).push([[8],{117:function(e,n,t){"use strict";t(0);var i=t(111),a=t(5);n.a=function(e){var n=e.children,t=l().classes;return Object(a.jsx)("div",{className:t.main,children:n})};var l=Object(i.makeStyles)({name:"PageContainer"})((function(e){return{main:{margin:e.spacing(0,3),padding:e.spacing(1,3)}}}))},118:function(e,n,t){"use strict";t(0);var i=t(318),a=t(111),l=t(133),c=t.n(l),o=t(5);n.a=function(e){var n=e.title,t=e.icon,a=s().classes;return Object(o.jsxs)("div",{className:a.container,children:[Object(o.jsx)("div",{className:a.icon,children:t||Object(o.jsx)(c.a,{fontSize:"large"})}),Object(o.jsx)(i.a,{variant:"h4",children:n})]})};var s=Object(a.makeStyles)({name:"PageTitles"})((function(e){return{container:{width:"100%",display:"flex",alignItems:"center",margin:e.spacing(2,0)},icon:{marginRight:e.spacing(2),color:e.palette.primary.main}}}))},121:function(e,n,t){"use strict";var i=t(8),a=t(0),l=t(313),c=t(65),o=t(5);n.a=function(e){var n=e.id,t=e.status,s=Object(a.useContext)(c.a).updateStatus,r=Object(a.useState)(t),d=Object(i.a)(r,2),u=d[0],j=d[1];return Object(o.jsx)(l.a,{style:{margin:"10px",width:"150px"},label:u?"Read":"Mark as read",variant:u?"filled":"outlined",color:"secondary",onClick:function(){j(!u),s(n,!u)}})}},122:function(e,n,t){"use strict";n.a=t.p+"static/media/genericBook.d3f34275.png"},125:function(e,n,t){"use strict";var i=t(8),a=t(0),l=t(65),c=t(163),o=t.n(c),s=t(164),r=t.n(s),d=t(5),u=function(e){var n=e.starNumber,t=e.originalRating,i=e.rating,a=e.setRating,l=e.saveRating;return Object(d.jsx)(d.Fragment,{children:i>=n?Object(d.jsx)(o.a,{fontSize:"small",color:"primary",onMouseEnter:function(){return a(n)},onMouseLeave:function(){return a(t)},onClick:function(e){e.preventDefault(),l()}}):Object(d.jsx)(r.a,{fontSize:"small",color:"secondary",onMouseEnter:function(){return a(n)},onMouseLeave:function(){return a(t)},onClick:function(e){e.preventDefault(),l()}})})};n.a=function(e){var n=e.rating,t=e.id,c=Object(a.useContext)(l.a).updateRating,o=Object(a.useState)(n),s=Object(i.a)(o,2),r=s[0],j=s[1],b=function(){r&&c(t,r)};return Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center",margin:"10px"},children:[Object(d.jsx)(u,{starNumber:1,originalRating:n,rating:r,setRating:j,saveRating:b}),Object(d.jsx)(u,{starNumber:2,originalRating:n,rating:r,setRating:j,saveRating:b}),Object(d.jsx)(u,{starNumber:3,originalRating:n,rating:r,setRating:j,saveRating:b}),Object(d.jsx)(u,{starNumber:4,originalRating:n,rating:r,setRating:j,saveRating:b}),Object(d.jsx)(u,{starNumber:5,originalRating:n,rating:r,setRating:j,saveRating:b})]})}},141:function(e,n,t){"use strict";var i=t(0),a=t(323),l=t(304),c=t(319),o=t(324),s=t(320),r=t(314),d=t(318),u=t(325),j=t(315),b=t(184),v=t.n(b),m=t(111),f=t(166),O=t.n(f),x=t(65),h=t(121),g=t(138),p=t.n(g),k=t(125),y=t(122),C=t(5);n.a=function(e){var n,t,b,m,f,g,R,N,S,w,D,B,L,T,z,M,A,E,F,_,P,U,W,G,H,J=e.isBookDialogOpen,V=e.setIsBookDialogOpen,Y=I().classes,q=Object(i.useContext)(x.a),K=q.addBook,Q=q.selectedBook,X=q.inUserList,Z=q.deleteBook,$=X((null===Q||void 0===Q?void 0:Q.id)||""),ee={book_id:(null===Q||void 0===Q?void 0:Q.id)||"",title:(null===Q||void 0===Q||null===(n=Q.volumeInfo)||void 0===n?void 0:n.title)||"",subtitle:(null===Q||void 0===Q||null===(t=Q.volumeInfo)||void 0===t?void 0:t.subtitle)||"",authors:(null===Q||void 0===Q||null===(b=Q.volumeInfo)||void 0===b||null===(m=b.authors)||void 0===m?void 0:m.join(","))||"",publishedDate:(null===Q||void 0===Q||null===(f=Q.volumeInfo)||void 0===f?void 0:f.publishedDate)||"",description:(null===Q||void 0===Q||null===(g=Q.volumeInfo)||void 0===g?void 0:g.description)||"",smallThumbnail:(null===Q||void 0===Q||null===(R=Q.volumeInfo)||void 0===R||null===(N=R.imageLinks)||void 0===N?void 0:N.smallThumbnail)||"",thumbnail:(null===Q||void 0===Q||null===(S=Q.volumeInfo)||void 0===S||null===(w=S.imageLinks)||void 0===w?void 0:w.thumbnail)||"",infoLink:(null===Q||void 0===Q||null===(D=Q.volumeInfo)||void 0===D?void 0:D.infoLink)||"",read:!1,rating:0};return Object(C.jsx)(a.a,{open:J,children:Q&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(l.a,{className:Y.title,children:[null===Q||void 0===Q||null===(B=Q.volumeInfo)||void 0===B?void 0:B.title,Object(C.jsx)(c.a,{title:"Close dialog",onClick:function(){return V(!1)},children:Object(C.jsx)(v.a,{})})]}),Object(C.jsx)(o.a,{children:Object(C.jsx)(s.a,{className:Y.container,children:Object(C.jsxs)(r.a,{container:!0,direction:"column",spacing:3,children:[Object(C.jsx)(r.a,{item:!0,children:Object(C.jsx)("img",{src:(null===Q||void 0===Q||null===(L=Q.volumeInfo)||void 0===L||null===(T=L.imageLinks)||void 0===T?void 0:T.thumbnail)||y.a,alt:null===Q||void 0===Q||null===(z=Q.volumeInfo)||void 0===z?void 0:z.title,className:Y.image})}),Object(C.jsxs)(r.a,{item:!0,children:[Object(C.jsx)("a",{href:null===Q||void 0===Q||null===(M=Q.volumeInfo)||void 0===M?void 0:M.infoLink,target:"_blank",rel:"noreferrer",className:Y.link,children:Object(C.jsx)(d.a,{variant:"h6",children:(null===Q||void 0===Q||null===(A=Q.volumeInfo)||void 0===A?void 0:A.title)||""})}),Object(C.jsx)(d.a,{children:null===Q||void 0===Q||null===(E=Q.volumeInfo)||void 0===E||null===(F=E.authors)||void 0===F?void 0:F.join(",")}),(null===Q||void 0===Q||null===(_=Q.volumeInfo)||void 0===_||null===(P=_.description)||void 0===P?void 0:P.startsWith("<"))?Object(C.jsx)("div",{children:O()(null===Q||void 0===Q||null===(U=Q.volumeInfo)||void 0===U?void 0:U.description)}):Object(C.jsx)(d.a,{variant:"body1",children:(null===Q||void 0===Q||null===(W=Q.volumeInfo)||void 0===W?void 0:W.description)||""}),Object(C.jsx)(d.a,{variant:"subtitle2",children:(null===Q||void 0===Q||null===(G=Q.volumeInfo)||void 0===G?void 0:G.publishedDate)||""})]})]})})}),Object(C.jsx)(u.a,{className:Y.actionArea,children:Object(C.jsxs)(r.a,{container:!0,spacing:1,alignItems:"center",children:[Object(C.jsx)(r.a,{item:!0,children:$?Object(C.jsxs)("div",{className:Y.userDiv,children:[Object(C.jsx)(h.a,{id:$.id,status:Boolean(null===$||void 0===$?void 0:$.read)}),Object(C.jsx)(k.a,{rating:$.rating||0,id:$.id}),Object(C.jsx)(j.a,{title:"Remove from shelf",color:"secondary",onClick:function(){return Z($.id)},children:"Remove from shelf"})]}):Object(C.jsx)(j.a,{title:"Add to shelf",variant:"contained",color:"primary",onClick:function(){return K(ee)},children:"Add to shelf"})}),Object(C.jsx)(r.a,{item:!0,children:Object(C.jsx)(j.a,{title:"View on web",children:Object(C.jsx)("a",{href:null===Q||void 0===Q||null===(H=Q.volumeInfo)||void 0===H?void 0:H.infoLink,target:"_blank",rel:"noreferrer",children:Object(C.jsx)(p.a,{fontSize:"small",color:"secondary"})})})})]})})]})})};var I=Object(m.makeStyles)({name:"NewBookDialog"})((function(e){return{title:{display:"flex",justifyContent:"space-between",alignItems:"center"},container:{margin:e.spacing(2)},image:{},link:{color:e.palette.primary.main,textDecoration:"none"},actionArea:{padding:e.spacing(3)},userDiv:{display:"flex",alignItems:"center"}}}))},143:function(e,n,t){"use strict";var i=t(0),a=t(118),l=t(111),c=t(161),o=t.n(c),s=t(43),r=t(42),d=t(137),u=t.n(d),j=t(6),b=t(319),v=t(41),m=t(5),f=function(e){var n=e.linkTo,t=e.icon,i=e.isSelected,a=e.title,l=O(),c=l.classes,o=l.cx;return Object(m.jsx)(b.a,{title:a,className:o(c.link,Object(j.a)({},c.isSelected,i)),children:Object(m.jsx)(v.b,{to:n,children:t})})},O=Object(l.makeStyles)({name:"HeaderLink"})((function(e){return{link:{height:e.spacing(7),width:e.spacing(7),borderRadius:50,display:"flex",justifyContent:"center",alignItems:"center"},isSelected:{border:"1px solid ".concat(e.palette.primary.main)}}})),x=t(2),h=t(162),g=t.n(h),p=(n.a=function(e){var n=e.title,t=e.icon,l=p().classes,c=Object(i.useContext)(s.b),d=c.user,j=c.setUser,v=Object(x.l)(),O=Object(x.n)();return Object(m.jsxs)("div",{className:l.container,children:[Object(m.jsx)(a.a,{title:n,icon:t||null}),Object(m.jsxs)("div",{className:l.actionsContainer,children:[Object(m.jsx)(f,{title:r.c.title,linkTo:r.c.path.replace(":userId",(null===d||void 0===d?void 0:d.id.toString())||""),icon:Object(m.jsx)(o.a,{color:v.pathname.includes("manage")?"primary":"secondary",className:l.linkIcon}),isSelected:v.pathname.includes("manage")}),Object(m.jsx)(f,{title:r.b.title,linkTo:r.b.path.replace(":userId",(null===d||void 0===d?void 0:d.id.toString())||""),icon:Object(m.jsx)(u.a,{color:v.pathname.includes("search")?"primary":"secondary",className:l.linkIcon}),isSelected:v.pathname.includes("search")}),Object(m.jsx)(b.a,{onClick:function(){j(void 0),O("/mybookshelf")},title:"Log out",children:Object(m.jsx)(g.a,{color:"secondary"})})]})]})},Object(l.makeStyles)({name:"Header"})((function(e){return{container:{padding:e.spacing(2),width:"100%",display:"flex",justifyContents:"space-evenly",alignItems:"center"},actionsContainer:{marginRight:e.spacing(2),display:"flex",justifyContents:"flex-end",alignItems:"center"},linkIcon:{padding:0,marginTop:-4,marginRight:-3}}})))},178:function(e,n){},312:function(e,n,t){"use strict";t.r(n);var i=t(8),a=t(69),l=t(0),c=t(65),o=t(260),s=t.n(o),r=t(263),d=t.n(r),u=t(264),j=t.n(u),b=t(265),v=t.n(b),m=t(117),f=t(143),O=t(42),x=t(326),h=t(327),g=t(318),p=t(315),k=t(266),y=t(2),C=t(43),I=t(5),R=function(){var e=N().classes,n=Object(l.useContext)(C.b).user,t=Object(y.n)();return Object(I.jsx)(x.a,{className:e.card,children:Object(I.jsxs)(h.a,{className:e.cardContent,children:[Object(I.jsx)(g.a,{variant:"h6",children:"Oh no! You don't have any Books yet! Go add one..."}),Object(I.jsx)(p.a,{title:"Go to search",variant:"contained",className:e.button,onClick:function(){return t(O.b.path.replace("userId",(null===n||void 0===n?void 0:n.id.toString())||""))},children:"Add"})]})})},N=Object(k.a)({name:"BookCard"})((function(e){return{card:{width:"100%",margin:e.spacing(2),maxWidth:"300px"},cardContent:{display:"flex",flexDirection:"column",alignItems:"center"},button:{margin:e.spacing(2),width:"100%"}}})),S=t(328),w=t(320),D=t(314),B=t(111),L=t(121),T=t(125),z=t(122),M=function(e){var n=e.book,t=e.getDetails,i=Object(l.useContext)(c.a).deleteBook,a=A().classes;return Object(I.jsxs)(x.a,{className:a.card,children:[Object(I.jsx)(S.a,{children:n.title||""}),Object(I.jsx)(h.a,{children:Object(I.jsx)(w.a,{className:a.container,children:Object(I.jsxs)(D.a,{container:!0,direction:"row",children:[Object(I.jsx)(D.a,{item:!0,xs:12,md:2,children:Object(I.jsx)("img",{src:n.smallThumbnail||z.a,alt:n.title,className:a.image})}),Object(I.jsxs)(D.a,{item:!0,xs:12,md:10,className:a.detailsContainer,children:[Object(I.jsxs)("div",{children:[Object(I.jsx)(g.a,{variant:"h6",children:n.title||""}),Object(I.jsx)(g.a,{variant:"caption",children:n.authors})]}),Object(I.jsxs)("div",{className:a.actionsContainer,children:[Object(I.jsx)(L.a,{id:n.id,status:n.read||!1}),Object(I.jsx)(T.a,{rating:n.rating||0,id:n.id}),Object(I.jsx)(p.a,{title:"View details",onClick:function(e){return t(e,n.book_id)},children:"Details"}),Object(I.jsx)(p.a,{title:"Remove from shelf",onClick:function(){return i(n.id)},children:"Remove"})]})]})]})})})]})},A=Object(B.makeStyles)({name:"BookCard"})((function(e){return{card:{width:"90%",margin:e.spacing(2),overflow:"hidden"},actionsContainer:{display:"flex",alignItems:"center",gap:e.spacing(2)},container:{display:"flex",margin:e.spacing(2),overflow:"auto"},image:{maxWidth:"100px",marginRight:e.spacing(3)},link:{color:e.palette.primary.main,textDecoration:"none"},detailsContainer:{display:"flex",flexDirection:"column",justifyContent:"space-between"}}})),E=t(141),F=t(319),_=t(267),P=t(316),U=t(306),W=t(307);n.default=function(){var e=Object(l.useContext)(c.a),n=e.userBooks,t=e.getBook,o=Object(l.useState)(!1),r=Object(i.a)(o,2),u=r[0],b=r[1],x=Object(l.useState)(),h=Object(i.a)(x,2),g=h[0],p=h[1],k=Object(l.useState)(n),y=Object(i.a)(k,2),C=y[0],N=y[1],S=Object(l.useState)(null),w=Object(i.a)(S,2),D=w[0],B=w[1],L=Boolean(D),T=function(){B(null)};Object(l.useEffect)((function(){n&&(g||N(n),N(function(){switch(g){case"read":return n.filter((function(e){return!0===e.read}));case"unread":return n.filter((function(e){return!0!==e.read}));default:return n}}()))}),[g,n]);var z=function(e,n){e.preventDefault(),t(n),b(!0)};return Object(I.jsxs)(m.a,{children:[Object(I.jsx)(f.a,{title:O.c.title}),Object(I.jsxs)(a.ErrorBoundary,{fallback:Object(I.jsx)("div",{children:"Something went wrong"}),children:[n.length?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)("div",{children:[Object(I.jsx)(F.a,{id:"filter-button",title:"Filter","aria-controls":L?"filter-menu":void 0,"aria-haspopup":"true","aria-expanded":L?"true":void 0,onClick:function(e){B(e.currentTarget)},children:Object(I.jsx)(s.a,{color:"secondary"})}),Object(I.jsxs)(_.a,{id:"filter-menu",anchorEl:D,open:L,onClose:T,MenuListProps:{"aria-labelledby":"filter-button"},children:[Object(I.jsx)(P.a,{disabled:!0,children:"Filter by:"}),Object(I.jsxs)(P.a,{onClick:function(){p("read"),T()},children:[Object(I.jsx)(U.a,{children:Object(I.jsx)(d.a,{fontSize:"small"})}),Object(I.jsx)(W.a,{children:"Read"})]}),Object(I.jsxs)(P.a,{onClick:function(){p("unread"),T()},children:[Object(I.jsx)(U.a,{children:Object(I.jsx)(j.a,{fontSize:"small"})}),Object(I.jsx)(W.a,{children:"Unread"})]}),Object(I.jsxs)(P.a,{onClick:function(){p(void 0),T()},children:[Object(I.jsx)(U.a,{children:Object(I.jsx)(v.a,{fontSize:"small"})}),Object(I.jsx)(W.a,{children:"Clear filters"})]})]})]}),C.map((function(e){return Object(I.jsx)(M,{book:e,getDetails:z},e.id)}))]}):Object(I.jsx)(R,{}),Object(I.jsx)(E.a,{isBookDialogOpen:u,setIsBookDialogOpen:b})]})]})}}}]);
//# sourceMappingURL=8.c17be6d3.chunk.js.map