(this.webpackJsonpmybookshelf=this.webpackJsonpmybookshelf||[]).push([[3],{40:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return a}));var r={title:"Book search",path:"/books/:userId"},c={title:"Book search",path:"/books/:userId/search"},a={title:"My books",path:"/books/:userId/manage"}},41:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return h}));var r=n(3),c=n.n(r),a=n(9),o=n(8),s=n(0),i=n(5),u=Object(s.createContext)({}),h=function(e){var t=e.children,n=Object(s.useState)(),r=Object(o.a)(n,2),h=r[0],l=r[1],f=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("http://localhost:3000/api/v1","/users"),e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}).then((function(e){return e.json()}));case 3:r=e.sent,l({email:r.email,id:r.id});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsx)(u.Provider,{value:{user:h,setUser:l,login:f},children:t})}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return p}));var r=n(10),c=n(58),a=n(3),o=n.n(a),s=n(9),i=n(8),u=n(0),h=n(2),l=n(41),f=n(5),b=Object(u.createContext)({}),p=function(e){var t=e.children,n="https://thawing-sierra-15233.herokuapp.com/api/v1",a="https://www.googleapis.com/books/v1/volumes",p=Object(h.p)().userId,d=Object(u.useContext)(l.b),j=d.user,v=d.setUser,O=Object(u.useState)([]),x=Object(i.a)(O,2),m=x[0],k=x[1],y=Object(u.useState)(),g=Object(i.a)(y,2),w=g[0],S=g[1],T=Object(u.useState)(),P=Object(i.a)(T,2),E=P[0],B=P[1],C=Object(u.useState)(!1),I=Object(i.a)(C,2),J=I[0],U=I[1],z=Object(u.useCallback)(Object(s.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(n,"/users/").concat(p),e.next=3,fetch(t,{method:"GET"}).then((function(e){return e.json()}));case 3:r=e.sent,v({email:r.email,id:r.id});case 5:case"end":return e.stop()}}),e)}))),[j]);Object(u.useEffect)((function(){j||z()}),[j]);var G=function(){var e=Object(s.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(n,"/books/?user_id=").concat(null===j||void 0===j?void 0:j.id.toString()),e.next=3,fetch(t,{method:"GET"}).then((function(e){return e.json()}));case 3:r=e.sent,k(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){j&&G()}),[j]);var N=function(){var e=Object(s.a)(o.a.mark((function e(t){var a,s,i,u,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(c.a)(Object(c.a)({},t),{},{user_id:(null===j||void 0===j?void 0:j.id)||""}),e.prev=1,e.next=4,fetch("".concat(n,"/books"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()}));case 4:return s=e.sent,e.next=7,Promise.resolve(s);case 7:(i=e.sent)&&(u=Object(r.a)(m),h=[].concat(Object(r.a)(u),[i]),k(h)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(s.a)(o.a.mark((function e(t){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(n,"/books/").concat(t),{method:"DELETE"}).then((function(e){return e}));case 3:c=Object(r.a)(m),a=c.filter((function(e){return e.id!==t})),k(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(s.a)(o.a.mark((function e(t,c){var a,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(n,"/books/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({read:c})}).then((function(e){return e.json()}));case 3:return a=e.sent,e.next=6,Promise.resolve(a);case 6:if(e.sent){for(s=Object(r.a)(m),i=0;i<s.length;i++)s[i].id===t&&(s[i].read=c);k(s)}e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=Object(s.a)(o.a.mark((function e(t,c){var a,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(n,"/books/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:c})}).then((function(e){return e.json()}));case 3:return a=e.sent,e.next=6,Promise.resolve(a);case 6:if(e.sent){for(s=Object(r.a)(m),i=0;i<s.length;i++)s[i].id===t&&(s[i].rating=c);k(s)}e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(a,"/").concat(t),e.prev=1,e.next=4,fetch(n,{method:"GET"}).then((function(e){return e.json().then((function(e){return e}))}));case 4:return r=e.sent,e.next=7,Promise.resolve(r);case 7:c=e.sent,S(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,r,c,s,i,u,h;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),n=t.title.length?"+intitle:".concat(t.title):"",r=t.author.length?"+inauthor:".concat(t.author):"",c=t.publisher.length?"+inpublisher:".concat(t.publisher):"",s=t.keyword||"",i="".concat(a,"?q=")+s+n+r+c,e.prev=6,e.next=9,fetch(i,{method:"GET"}).then((function(e){return e.json()}));case 9:return u=e.sent,e.next=12,Promise.resolve(u);case 12:h=e.sent,B(0===h.totalItems?[]:h.items),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.error(e.t0);case 19:U(!1);case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(b.Provider,{value:{userBooks:m,getBook:R,selectedBook:w,setSelectedBook:S,addBook:N,deleteBook:L,bookSearch:q,searchResults:E,inUserList:function(e){return m.find((function(t){return t.book_id===e}))},updateStatus:_,updateRating:M,isSearchLoading:J},children:t})}},80:function(e,t,n){},81:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(65),a=(n(80),n(81),n(41)),o=n(39),s=n(2),i=n(40),u=n(107),h=n(5),l=function(){return Object(h.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(h.jsx)(u.a,{size:"40px"})})},f=n(63),b=function(){return Object(h.jsx)(f.b,{children:Object(h.jsx)(s.a,{})})},p=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(7)]).then(n.bind(null,308))})),d=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(9)]).then(n.bind(null,302))})),j=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(6),n.e(8)]).then(n.bind(null,309))})),v=function(){return Object(h.jsx)(r.Suspense,{fallback:Object(h.jsx)(l,{}),children:Object(h.jsx)(o.a,{children:Object(h.jsxs)(s.d,{children:[Object(h.jsx)(s.b,{path:"/",element:Object(h.jsx)(d,{})}),Object(h.jsxs)(s.b,{path:"".concat(i.a.path),element:Object(h.jsx)(b,{}),children:[Object(h.jsx)(s.b,{path:"".concat(i.b.path),element:Object(h.jsx)(p,{})}),Object(h.jsx)(s.b,{path:"".concat(i.c.path),element:Object(h.jsx)(j,{})})]})]})})})},O=n(106),x=n(64),m=n(105),k=Object(x.b)({palette:{primary:{light:"#f0a9a4",main:"#d4847f",dark:"#145369",contrastText:"#2e2e2e"},secondary:{light:"#2596be",main:"#145369",dark:"#2e2e2e",contrastText:"#ffffff"},background:{default:m.a[100]}},spacing:8}),y=function(){return Object(h.jsx)(a.a,{children:Object(h.jsx)(O.a,{theme:k,children:Object(h.jsx)("div",{style:{width:"100vw",height:"100vh"},children:Object(h.jsx)(v,{})})})})};c.render(Object(h.jsx)(r.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root"))}},[[88,4,5]]]);
//# sourceMappingURL=main.2683b5c8.chunk.js.map